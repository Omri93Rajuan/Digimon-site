<page-header
  title="חיפוש דיג'ימונים חדשים"
  subTitle="צאי לגלות עולם חדש!"
  icon="fa-solid fa-sign-in
  "
  bgColor="alert-info rounded-3 p-2 m-2"
></page-header>
<div class="container">
  <div class="d-flex">
    <div class="container-right">
      <mat-form-field class="example-form-field center-text">
        <mat-label>שם הדיג'ימון</mat-label>
        <input matInput type="text" [(ngModel)]="digimonName" />
        @if (digimonName) {
        <button
          matSuffix
          mat-icon-button
          aria-label="Clear"
          (click)="digimonName = ''"
        >
          <mat-icon>close</mat-icon>
        </button>
        }
      </mat-form-field>
      <button
        class="btn"
        style="background-color: #ebc55a; margin-right: 10px"
        mat-raised-button
        (click)="getDigimonByName(digimonName)"
      >
        !חפש דיג'ימון
      </button>
      <div>{{ errorMessage }}</div>
    </div>
    <div class="container-left">
      <div class="text-center">
        @if (digimon.id != 0) { @defer(on timer(500ms)){
        <h1>{{ digimon.name }}</h1>
        <img src="{{ digimon.img }}" alt="{{ digimon.name }}" width="50%" />
        <p>{{ digimon.level }}</p>
        <button
          class="btn"
          style="background-color: #ebc55a; margin-right: 10px"
          mat-raised-button
          (click)="addDigimon()"
        >
          קחי אותי!
        </button>
        <mat-card class="card">
          <mat-card-header>
            <mat-card-title>{{ digimon.name }}</mat-card-title>
            <img
              mat-card-sm-image
              class="card-image"
              src="{{ digimon.img }}"
              alt="{{ digimon.name }}"
            />
            <p>{{ digimon.level }}</p>
          </mat-card-header>
          <mat-card-actions>
            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              attr.data-bs-target="#{{digimon.id}}">
              עריכה
            </button>
            <button class="btn btn-secondary" (click)="DeleteDigimon(digimon.id)">
              מחיקה
            </button>
          </mat-card-actions>
        </mat-card>
        }@placeholder {
        <mat-spinner></mat-spinner>
        } }
      </div>
    </div>
  </div>
</div>
